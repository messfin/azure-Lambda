Get-ChildItem -Path tests -Filter *.lambda.js -Recurse | ForEach-Object { $testFile = $_.FullName.Replace((Get-Location).Path + '\', '').Replace('\', '/'); Write-Host "`nüß™ Running: $testFile" -ForegroundColor Cyan; @{body=@{testMatch=$testFile}} | ConvertTo-Json -Depth 3 | Out-File -FilePath test-payload.json -Encoding utf8; $response = & 'C:\Program Files\Amazon\AWSCLIV2\aws.exe' lambda invoke --function-name playwright-serverless-dev-run-tests --cli-binary-format raw-in-base64-out --payload file://test-payload.json "response-$($testFile.Replace('/', '-').Replace('.', '-')).json" 2>&1; if ($LASTEXITCODE -eq 0) { $result = Get-Content "response-$($testFile.Replace('/', '-').Replace('.', '-')).json" | ConvertFrom-Json; Write-Host "‚úÖ Status: $($result.statusCode)" -ForegroundColor Green; if ($result.body) { $body = $result.body | ConvertFrom-Json; Write-Host "   Success: $($body.success)" -ForegroundColor $(if ($body.success) { 'Green' } else { 'Red' }); if ($body.duration) { Write-Host "   Duration: $($body.duration)ms" -ForegroundColor Yellow } } } else { Write-Host "‚ùå Failed" -ForegroundColor Red } }

