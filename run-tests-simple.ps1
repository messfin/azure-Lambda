@('tests/simple.js','tests/demo.lambda.js','tests/example.lambda.js','tests/api.lambda.js','tests/apiChallenge.lambda.js','tests/demo-todo-app.lambda.js','tests/api-gravity.lambda.js') | ForEach-Object { Write-Host "`nðŸ§ª $_" -ForegroundColor Cyan; @{body=@{testMatch=$_}} | ConvertTo-Json | Out-File test-payload.json -Encoding utf8; & 'C:\Program Files\Amazon\AWSCLIV2\aws.exe' lambda invoke --function-name playwright-serverless-dev-run-tests --cli-binary-format raw-in-base64-out --payload file://test-payload.json response.json | Out-Null; $r = Get-Content response.json | ConvertFrom-Json; Write-Host "âœ… $($r.statusCode)" -ForegroundColor $(if($r.statusCode -eq 200){'Green'}else{'Red'}); if($r.body){$b=$r.body|ConvertFrom-Json;Write-Host "   Success: $($b.success) | Duration: $($b.duration)ms" -ForegroundColor $(if($b.success){'Green'}else{'Red'})} }

